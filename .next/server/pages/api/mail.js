"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/mail";
exports.ids = ["pages/api/mail"];
exports.modules = {

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "(api)/./pages/api/mail.js":
/*!***************************!*\
  !*** ./pages/api/mail.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (req, res)=>{\n    if (req.method === \"POST\") {\n        // Extraction des données du corps de la requête\n        const { person , phone , date , time , depart , arrive  } = req.body;\n        // Assurez-vous que toutes les variables d'environnement nécessaires sont présentes\n        if (!process.env.MAIL_HOST || !process.env.MAIL_USER || !process.env.MAIL_PASSWORD) {\n            console.error(\"Server environment variables are not set\");\n            return res.status(500).json({\n                success: false,\n                message: \"Server configuration error\"\n            });\n        }\n        // Configuration de Nodemailer avec vos paramètres SMTP\n        const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default().createTransport({\n            host: process.env.MAIL_HOST,\n            port: 587,\n            secure: false,\n            auth: {\n                user: process.env.MAIL_USER,\n                pass: process.env.MAIL_PASSWORD\n            }\n        });\n        // Configuration de l'e-mail à envoyer\n        const mailOptions = {\n            from: `\"Your Name\" <${process.env.MAIL_USER}>`,\n            to: process.env.MAIL_RECIPIENT,\n            subject: \"New Reservation Request\",\n            text: `You have a new reservation request.\\n\\nDetails:\\nPerson: ${person}\\nPhone: ${phone}\\nDate: ${date}\\nTime: ${time}\\nDepart: ${depart}\\nArrive: ${arrive}`\n        };\n        // Envoi de l'e-mail\n        try {\n            const result = await transporter.sendMail(mailOptions);\n            console.log(\"Message sent: %s\", result.messageId);\n            // Réponse réussie\n            return res.status(200).json({\n                success: true,\n                message: \"R\\xe9servation valid\\xe9e avec succ\\xe8s !\"\n            });\n        } catch (error) {\n            console.error(\"Failed to send email\", error);\n            // Réponse en cas d'échec\n            return res.status(500).json({\n                success: false,\n                message: \"Failed to send email\"\n            });\n        }\n    } else {\n        // Gestion des méthodes non autorisées\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        return res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvbWFpbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0M7QUFFcEMsaUVBQWUsT0FBT0MsS0FBS0MsTUFBUTtJQUNqQyxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QixnREFBZ0Q7UUFDaEQsTUFBTSxFQUFFQyxPQUFNLEVBQUVDLE1BQUssRUFBRUMsS0FBSSxFQUFFQyxLQUFJLEVBQUVDLE9BQU0sRUFBQ0MsT0FBTSxFQUFFLEdBQUdSLElBQUlTLElBQUk7UUFFN0QsbUZBQW1GO1FBQ25GLElBQUksQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxTQUFTLElBQUksQ0FBQ0YsUUFBUUMsR0FBRyxDQUFDRSxTQUFTLElBQUksQ0FBQ0gsUUFBUUMsR0FBRyxDQUFDRyxhQUFhLEVBQUU7WUFDbEZDLFFBQVFDLEtBQUssQ0FBQztZQUNkLE9BQU9mLElBQUlnQixNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQkMsU0FBUyxLQUFLO2dCQUNkQyxTQUFTO1lBQ1g7UUFDRixDQUFDO1FBRUQsdURBQXVEO1FBQ3ZELE1BQU1DLGNBQWN0QixpRUFBMEIsQ0FBQztZQUM3Q3dCLE1BQU1iLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUztZQUMzQlksTUFBTTtZQUNOQyxRQUFRLEtBQUs7WUFDYkMsTUFBTTtnQkFDSkMsTUFBTWpCLFFBQVFDLEdBQUcsQ0FBQ0UsU0FBUztnQkFDM0JlLE1BQU1sQixRQUFRQyxHQUFHLENBQUNHLGFBQWE7WUFDakM7UUFDRjtRQUVBLHNDQUFzQztRQUN0QyxNQUFNZSxjQUFjO1lBQ2xCQyxNQUFNLENBQUMsYUFBYSxFQUFFcEIsUUFBUUMsR0FBRyxDQUFDRSxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzlDa0IsSUFBSXJCLFFBQVFDLEdBQUcsQ0FBQ3FCLGNBQWM7WUFDOUJDLFNBQVM7WUFDVEMsTUFBTSxDQUFDLHlEQUF5RCxFQUFFL0IsT0FBTyxTQUFTLEVBQUVDLE1BQU0sUUFBUSxFQUFFQyxLQUFLLFFBQVEsRUFBRUMsS0FBSyxVQUFVLEVBQUVDLE9BQU8sVUFBVSxFQUFFQyxPQUFPLENBQUM7UUFFaks7UUFFQSxvQkFBb0I7UUFDcEIsSUFBSTtZQUNGLE1BQU0yQixTQUFTLE1BQU1kLFlBQVllLFFBQVEsQ0FBQ1A7WUFDMUNkLFFBQVFzQixHQUFHLENBQUMsb0JBQW9CRixPQUFPRyxTQUFTO1lBQ2hELGtCQUFrQjtZQUNsQixPQUFPckMsSUFBSWdCLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQ3pCQyxTQUFTLElBQUk7Z0JBQ2JDLFNBQVM7WUFDWDtRQUNILEVBQUUsT0FBT0osT0FBTztZQUNkRCxRQUFRQyxLQUFLLENBQUMsd0JBQXdCQTtZQUN0Qyx5QkFBeUI7WUFDekIsT0FBT2YsSUFBSWdCLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVMsS0FBSztnQkFBRUMsU0FBUztZQUF1QjtRQUNoRjtJQUNGLE9BQU87UUFDTCxzQ0FBc0M7UUFDdENuQixJQUFJc0MsU0FBUyxDQUFDLFNBQVM7WUFBQztTQUFPO1FBQy9CLE9BQU90QyxJQUFJZ0IsTUFBTSxDQUFDLEtBQUt1QixHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUV4QyxJQUFJRSxNQUFNLENBQUMsWUFBWSxDQUFDO0lBQy9ELENBQUM7QUFDSCxHQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcWljaGVuLXJlYWN0Ly4vcGFnZXMvYXBpL21haWwuanM/N2QxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAvLyBFeHRyYWN0aW9uIGRlcyBkb25uw6llcyBkdSBjb3JwcyBkZSBsYSByZXF1w6p0ZVxuICAgIGNvbnN0IHsgcGVyc29uLCBwaG9uZSwgZGF0ZSwgdGltZSwgZGVwYXJ0LGFycml2ZSB9ID0gcmVxLmJvZHk7XG5cbiAgICAvLyBBc3N1cmV6LXZvdXMgcXVlIHRvdXRlcyBsZXMgdmFyaWFibGVzIGQnZW52aXJvbm5lbWVudCBuw6ljZXNzYWlyZXMgc29udCBwcsOpc2VudGVzXG4gICAgaWYgKCFwcm9jZXNzLmVudi5NQUlMX0hPU1QgfHwgIXByb2Nlc3MuZW52Lk1BSUxfVVNFUiB8fCAhcHJvY2Vzcy5lbnYuTUFJTF9QQVNTV09SRCkge1xuICAgICAgY29uc29sZS5lcnJvcignU2VydmVyIGVudmlyb25tZW50IHZhcmlhYmxlcyBhcmUgbm90IHNldCcpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6ICdTZXJ2ZXIgY29uZmlndXJhdGlvbiBlcnJvcicsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBDb25maWd1cmF0aW9uIGRlIE5vZGVtYWlsZXIgYXZlYyB2b3MgcGFyYW3DqHRyZXMgU01UUFxuICAgIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xuICAgICAgaG9zdDogcHJvY2Vzcy5lbnYuTUFJTF9IT1NULCAvLyBTZXJ2ZXVyIFNNVFBcbiAgICAgIHBvcnQ6IDU4NywgLy8gUG9ydCBzdGFuZGFyZCBUTFNcbiAgICAgIHNlY3VyZTogZmFsc2UsIC8vIFRydWUgcG91ciA0NjUsIGZhbHNlIHBvdXIgZCdhdXRyZXMgcG9ydHNcbiAgICAgIGF1dGg6IHtcbiAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuTUFJTF9VU0VSLCAvLyBWb3RyZSBhZHJlc3NlIGVtYWlsXG4gICAgICAgIHBhc3M6IHByb2Nlc3MuZW52Lk1BSUxfUEFTU1dPUkQsIC8vIFZvdHJlIG1vdCBkZSBwYXNzZVxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIENvbmZpZ3VyYXRpb24gZGUgbCdlLW1haWwgw6AgZW52b3llclxuICAgIGNvbnN0IG1haWxPcHRpb25zID0ge1xuICAgICAgZnJvbTogYFwiWW91ciBOYW1lXCIgPCR7cHJvY2Vzcy5lbnYuTUFJTF9VU0VSfT5gLCAvLyBFeHDDqWRpdGV1clxuICAgICAgdG86IHByb2Nlc3MuZW52Lk1BSUxfUkVDSVBJRU5ULCAvLyBEZXN0aW5hdGFpcmUgZMOpZmluaSBkYW5zIC5lbnZcbiAgICAgIHN1YmplY3Q6ICdOZXcgUmVzZXJ2YXRpb24gUmVxdWVzdCcsIC8vIFN1amV0XG4gICAgICB0ZXh0OiBgWW91IGhhdmUgYSBuZXcgcmVzZXJ2YXRpb24gcmVxdWVzdC5cXG5cXG5EZXRhaWxzOlxcblBlcnNvbjogJHtwZXJzb259XFxuUGhvbmU6ICR7cGhvbmV9XFxuRGF0ZTogJHtkYXRlfVxcblRpbWU6ICR7dGltZX1cXG5EZXBhcnQ6ICR7ZGVwYXJ0fVxcbkFycml2ZTogJHthcnJpdmV9YCwgLy8gQ29ycHMgZHUgdGV4dGVcbiAgICAgIC8vIGh0bWw6ICc8Yj5IZWxsbyB3b3JsZD88L2I+JyAvLyBWb3VzIHBvdXZleiDDqWdhbGVtZW50IGVudm95ZXIgZHUgSFRNTFxuICAgIH07XG5cbiAgICAvLyBFbnZvaSBkZSBsJ2UtbWFpbFxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucyk7XG4gICAgICBjb25zb2xlLmxvZygnTWVzc2FnZSBzZW50OiAlcycsIHJlc3VsdC5tZXNzYWdlSWQpO1xuICAgICAgLy8gUsOpcG9uc2UgcsOpdXNzaWVcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgbWVzc2FnZTogJ1LDqXNlcnZhdGlvbiB2YWxpZMOpZSBhdmVjIHN1Y2PDqHMgISdcbiAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlbmQgZW1haWwnLCBlcnJvcik7XG4gICAgICAvLyBSw6lwb25zZSBlbiBjYXMgZCfDqWNoZWNcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnRmFpbGVkIHRvIHNlbmQgZW1haWwnIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBHZXN0aW9uIGRlcyBtw6l0aG9kZXMgbm9uIGF1dG9yaXPDqWVzXG4gICAgcmVzLnNldEhlYWRlcignQWxsb3cnLCBbJ1BPU1QnXSk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5lbmQoYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYCk7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsibm9kZW1haWxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInBlcnNvbiIsInBob25lIiwiZGF0ZSIsInRpbWUiLCJkZXBhcnQiLCJhcnJpdmUiLCJib2R5IiwicHJvY2VzcyIsImVudiIsIk1BSUxfSE9TVCIsIk1BSUxfVVNFUiIsIk1BSUxfUEFTU1dPUkQiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ0cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsImhvc3QiLCJwb3J0Iiwic2VjdXJlIiwiYXV0aCIsInVzZXIiLCJwYXNzIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJNQUlMX1JFQ0lQSUVOVCIsInN1YmplY3QiLCJ0ZXh0IiwicmVzdWx0Iiwic2VuZE1haWwiLCJsb2ciLCJtZXNzYWdlSWQiLCJzZXRIZWFkZXIiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/mail.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/mail.js"));
module.exports = __webpack_exports__;

})();